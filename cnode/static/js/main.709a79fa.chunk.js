(this.webpackJsonpreact_cnode=this.webpackJsonpreact_cnode||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(20),c=n.n(s),i=(n(46),n(47),n(2)),r=n(3),o=n(5),l=n(4),u=n(10),j=n(8),d=n(9),h={getSession:function(e){return!!e&&JSON.parse(window.sessionStorage.getItem(e))},setSession:function(e,t){if(!e)return!1;"String"!==t&&(t=JSON.stringify(t)),window.sessionStorage.setItem(e,t)},delSession:function(e){return!!e&&window.sessionStorage.removeItem(e)},getLocal:function(e){return!!e&&JSON.parse(window.localStorage.getItem(e))},setLocal:function(e,t){if(!e)return!1;"String"!==t&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t)},delLocal:function(e){return!!e&&window.localStorage.removeItem(e)}},b=n(23),p="setSearchStatus",O="setLoadingStatus",v="indexGetList",x="savePageIndex",f="savePageTab",m="saveTabIndex",g="saveTopcsContent",N="saveUserInfo",I="saveLoginDialog",k="changeTipsStatus",D="changeTipsText",y={userInfoData:{},isLoginDialog:!1,searchStatus:!1,loadingStatus:!0,allIndexData:[],hotIndexData:[],coldIndexData:[],userIndexData:[],pageIndex:0,pageTab:"all",tabIndex:0,topcsContent:{},tipsStatus:!1,tipsText:""},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object.assign({},e,{searchStatus:t.value});case O:return Object.assign({},e,{loadingStatus:t.value});case v:return Object.assign({},e,{allIndexData:t.data.all,hotIndexData:t.data.hot,coldIndexData:t.data.cold,userIndexData:t.data.user});case f:return Object.assign({},e,{pageTab:t.value});case m:return Object.assign({},e,{tabIndex:t.index});case g:return Object.assign({},e,{topcsContent:t.value});case x:return Object.assign({},e,{pageIndex:t.value-1});case I:return Object.assign({},e,{isLoginDialog:t.value});case N:return Object.assign({},e,{userInfoData:t.value});case k:return Object.assign({},e,{tipsStatus:t.value});case D:return Object.assign({},e,{tipsText:t.value});default:return e}},C=n(39),T=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):b.b)(Object(b.a)(C.a)),w=Object(b.c)(S,T),_=n(19),L=n(7),J=n.n(L),V=n(11),P=n(26),F=n.n(P);F.a.defaults.withCredentials=!0;var E=F.a.create({baseURL:"/",timeout:3e4,headers:{Accept:"application/json","Content-type":"application/json"}});E.interceptors.request.use((function(e){var t=A(!0);return w.dispatch(t),e}),(function(e){return Promise.reject(e)})),E.interceptors.response.use((function(e){var t=A(!1);return w.dispatch(t),e.data}),(function(e){var t=W(!0),n=Y(JSON.parse(e.request.responseText).error_msg);return w.dispatch(t),w.dispatch(n),Promise.reject(e)}));var R=E,U=function(e){return R({url:"/topic/".concat(e),method:"GET"})},M=function(e){return R({url:"/accesstoken",method:"POST",data:{accesstoken:e}})},z=function(e,t,n){return R({url:"/topic/".concat(n,"/replies"),method:"POST",data:{accesstoken:e,content:t}})},G=function(e,t){return R({url:"/reply/".concat(t,"/ups"),method:"POST",data:{accesstoken:e}})},H=function(e,t,n,a){return R({url:"/topics",method:"POST",data:{accesstoken:e,title:t,tab:n,content:a}})},A=function(e){return{type:O,value:e}},X=function(e){return{type:v,data:e}},q=function(e){return{type:x,value:e}},B=function(e){return{type:N,value:e}},Q=function(e){return{type:I,value:e}},W=function(e){return{type:k,value:e}},Y=function(e){return{type:D,value:e}},K=function(e){return function(){var t=Object(V.a)(J.a.mark((function t(n){var a,s,c,i,r,o;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l=e.page,u=e.tab,j=e.limit,d=e.mark,R({url:"/topics",method:"GET",params:{page:l,tab:u,limit:j,mdrender:d}});case 2:a=t.sent,s=JSON.parse(JSON.stringify(a.data)),c=a.data.sort((function(e,t){return t.visit_count-e.visit_count})),i=JSON.parse(JSON.stringify(c)).reverse(),r=a.data.filter((function(e,t){return t<12})),o=X({all:s,hot:c,cold:i,user:r}),n(o);case 10:case"end":return t.stop()}var l,u,j,d}),t)})));return function(e){return t.apply(this,arguments)}}()},Z=function(e,t,n){var a="";if(e)a="\u7f6e\u9876";else if(t)a="\u7cbe\u534e";else switch(n){case"all":a="\u5168\u90e8";break;case"good":a="\u7cbe\u534e";break;case"share":a="\u5206\u4eab";break;case"ask":a="\u95ee\u7b54";break;case"job":a="\u62db\u8058";break;case"dev":a="\u5ba2\u6237\u7aef\u6d4b\u8bd5";break;default:a=""}return a},$=function(e){if(!e)return!1;var t=6e4,n=60*t,a=24*n,s=30*a,c=12*s,i=new Date(e),r=(new Date).getTime()-i,o="";if(r>c){var l=Math.floor(r/c);o="".concat(l," \u5e74\u524d")}else if(r>s){var u=Math.floor(r/s);o="".concat(u," \u4e2a\u6708\u524d")}else if(r>a){var j=Math.floor(r/a);o="".concat(j," \u5929\u524d")}else if(r>n){var d=Math.floor(r/n);o="".concat(d," \u5c0f\u65f6\u524d")}else if(r>t){var h=Math.floor(r/t);o="".concat(h," \u5206\u949f\u524d")}else o="\u521a\u521a";return o},ee=function(){var e;if(h.getSession("userInfo")||(null===(e=w.getState().userInfoData)||void 0===e?void 0:e.id))return!0;var t=Q(!0);w.dispatch(t)},te=n(0),ne=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e,t,n;return Object(te.jsx)("div",{className:"header",children:Object(te.jsxs)("div",{className:"w1440 ct",children:[Object(te.jsx)("div",{className:"fl ct",children:Object(te.jsx)("span",{className:"logo",children:Object(te.jsx)("i",{className:"iconfont icon-logo"})})}),Object(te.jsxs)("div",{className:"fr ml ct",children:[Object(te.jsxs)("div",{className:"searchTop",children:[Object(te.jsx)("input",{type:"text",placeholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u9879...",className:this.props.topSearchStatus?"w100":""}),Object(te.jsx)("i",{onClick:this.props.setTopSearch,className:"iconfont icon-search"})]}),Object(te.jsxs)("ul",{children:[Object(te.jsx)("li",{children:Object(te.jsx)(u.b,{to:"/",children:"\u9996\u9875"})}),Object(te.jsx)("li",{children:Object(te.jsx)(u.b,{to:"/about",children:"\u5173\u4e8e"})}),(null===(e=this.props.userInfoData)||void 0===e?void 0:e.id)?Object(te.jsx)("li",{className:"logincz",children:Object(te.jsx)("span",{className:"img",children:Object(te.jsx)("img",{src:null===(t=this.props.userInfoData)||void 0===t||null===(n=t.author)||void 0===n?void 0:n.avatar_url,alt:""})})}):Object(te.jsx)("li",{onClick:function(){return ee()},children:Object(te.jsx)("font",{children:"\u767b\u5f55"})})]})]})]})})}}]),n}(a.Component),ae=Object(d.b)((function(e){return{userInfoData:e.userInfoData}}),(function(){return{}}))(ne),se=function(){return Object(te.jsx)("div",{className:"footer",children:Object(te.jsxs)("div",{className:"w1440",children:[Object(te.jsx)("p",{children:"Copyright \xa9 2021-6-24 DoLeet. \u5f53\u524d\u5448\u73b0\u7248\u672c v1.0"}),Object(te.jsxs)("p",{children:["\u8be5\u9879\u76ee\u4e3a\u4effCNode\u793e\u533a\u5f00\u53d1\u7684React\u7248\uff0c\u7248\u6743\u6240\u6709\uff1a\u4e2a\u4eba\u5b66\u4e60\u9879\u76ee",Object(te.jsx)("i",{className:"iconfont icon-github"})]}),Object(te.jsx)("p",{children:"CNode \u793e\u533a\u4e3a\u56fd\u5185\u6700\u4e13\u4e1a\u7684 Node.js \u5f00\u6e90\u6280\u672f\u793e\u533a\uff0c\u81f4\u529b\u4e8e Node.js \u7684\u6280\u672f\u7814\u7a76\u3002"})]})})},ce=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={tokenValue:""},a}return Object(r.a)(n,[{key:"render",value:function(){return Object(te.jsx)(a.Fragment,{children:Object(te.jsxs)("div",{className:"loginDialog",children:[Object(te.jsx)("div",{className:"bg",onClick:this.props.changeIsLoginDialog}),Object(te.jsxs)("div",{className:"con",children:[Object(te.jsxs)("h2",{children:["\u767b\u5f55",Object(te.jsx)("i",{onClick:this.props.changeIsLoginDialog,className:"iconfont icon-guanbi"})]}),Object(te.jsx)("h4",{children:Object(te.jsx)("input",{value:this.state.tokenValue,onChange:this.inputChange.bind(this),placeholder:"\u8bf7\u8f93\u5165accesstoken"})}),Object(te.jsx)("h6",{children:"\u5982\u4f55\u83b7\u53d6 accessToken? \u7528\u6237\u767b\u5f55\u540e\uff0c\u5728\u8bbe\u7f6e\u9875\u9762\u53ef\u4ee5\u770b\u5230\u81ea\u5df1\u7684 accessToken"}),Object(te.jsx)("p",{children:Object(te.jsx)("button",{onClick:this.submitLogin.bind(this),children:"\u767b\u5f55"})})]})]})})}},{key:"inputChange",value:function(e){this.setState({tokenValue:e.target.value})}},{key:"submitLogin",value:function(){this.state.tokenValue&&this.props.goLogin(this.state.tokenValue)}}]),n}(a.Component),ie=Object(d.b)((function(e){return{isLoginDialog:e.isLoginDialog}}),(function(e){return{changeIsLoginDialog:function(){var t=Q(!1);e(t)},goLogin:function(t){var n=function(e){return console.log(e),function(){var t=Object(V.a)(J.a.mark((function t(n){var a,s,c;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e);case 2:a=t.sent,console.log(a),a&&a.success&&(h.setSession("userInfo",Object(_.a)(Object(_.a)({},a),{},{token:e})),s=B(Object(_.a)(Object(_.a)({},a),{},{token:e})),n(s),c=Q(!1),n(c));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t);e(n)}}}))(ce),re=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.tipsText;return Object(te.jsx)("div",{className:"tips",children:e})}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.props.changeStatus(!1)}),5e3)}}]),n}(a.Component),oe=Object(d.b)((function(e){return{tipsText:e.tipsText}}),(function(e){return{changeStatus:function(t){var n=W(t);e(n)}}}))(re),le=n(41),ue=n(22),je=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state=w.getState(),a.storeChange=a.storeChange.bind(Object(ue.a)(a)),a}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(te.jsx)("div",{className:"paging",children:Object(te.jsxs)("div",{className:"con",children:[Object(te.jsx)("span",{className:"prevItem",children:Object(te.jsx)("i",{className:"iconfont icon-shangyiye"})}),Object(te.jsx)("ul",{children:Object(le.a)(Array(5)).map((function(t,n){return Object(te.jsx)("li",{className:e.state.pageIndex===n?"cur":"",onClick:function(){e.changePage(n+1)},children:n+1},n+1e3)}))}),Object(te.jsx)("span",{className:"nextItem",children:Object(te.jsx)("i",{className:"iconfont icon-xiayiye1"})})]})})}},{key:"storeChange",value:function(){this.setState(w.getState())}},{key:"changePage",value:function(e){console.log(e);var t=q(e);w.dispatch(t),this.getData({page:e,tab:this.state.pageTab,limit:20,mark:!0})}},{key:"getData",value:function(e){var t=K(e);w.dispatch(t)}}]),n}(a.Component),de=function(e){var t;return Object(te.jsxs)(a.Fragment,{children:[Object(te.jsx)("div",{className:"indexImgList",children:Object(te.jsx)("ul",{children:null===(t=e.dataJson)||void 0===t?void 0:t.map((function(e,t){var n,a,s;return Object(te.jsxs)("li",{className:e.top?"tops":"",children:[Object(te.jsxs)("div",{className:"txtDiv",children:[Object(te.jsxs)("h4",{className:e.good?"goods":"",children:[Object(te.jsx)("span",{className:"tag",children:Z(e.top,e.good,e.tab)}),"|",Object(te.jsx)("span",{className:"authorInfo",children:Object(te.jsxs)(u.b,{to:"/userinfo/"+e.id,children:[Object(te.jsx)("img",{src:null===(n=e.author)||void 0===n?void 0:n.avatar_url,alt:""}),Object(te.jsx)("font",{className:"name",children:null===(a=e.author)||void 0===a?void 0:a.loginname})]})}),"|",Object(te.jsx)("span",{className:"time",children:$(e.create_at)})]}),Object(te.jsx)("div",{className:"title",children:Object(te.jsx)(u.b,{to:"/listinfo/"+e.id,children:e.title})}),Object(te.jsxs)("h6",{children:[Object(te.jsxs)("span",{className:"icon",children:[Object(te.jsx)("i",{className:"iconfont icon-chakan"}),e.visit_count]}),Object(te.jsxs)("span",{className:"icon",children:[Object(te.jsx)("i",{className:"iconfont icon-006pinglunhuifu"}),e.reply_count]})]})]}),Object(te.jsx)("div",{className:"imgDiv",children:Object(te.jsx)("img",{src:null===(s=e.author)||void 0===s?void 0:s.avatar_url,alt:""})})]},e.id+t)}))})}),Object(te.jsx)(je,{})]})},he=function(){return Object(te.jsxs)("div",{className:"loadingArea",children:[Object(te.jsx)("span",{}),Object(te.jsx)("span",{}),Object(te.jsx)("span",{}),Object(te.jsx)("span",{}),Object(te.jsx)("span",{})]})},be=function(e){return Object(te.jsx)("ul",{className:"textList",children:e.dataJSon&&e.dataJSon.slice(0,5).map((function(e){return Object(te.jsx)("li",{children:Object(te.jsx)(u.b,{to:"/listinfo/"+e.id,children:e.title})},e.id)}))})},pe=function(e){return Object(te.jsx)("ul",{children:e.dataJSon&&e.dataJSon.map((function(e){var t,n,a;return Object(te.jsx)("li",{children:Object(te.jsxs)(u.b,{to:"/userinfo/"+(null===(t=e.author)||void 0===t?void 0:t.loginname),children:[Object(te.jsx)("span",{children:Object(te.jsx)("img",{src:null===(n=e.author)||void 0===n?void 0:n.avatar_url,alt:""})}),Object(te.jsx)("p",{children:null===(a=e.author)||void 0===a?void 0:a.loginname})]})},e.id)}))})},Oe=function(){return Object(te.jsxs)("div",{className:"box clineQr",children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("i",{className:"iconfont icon-tubiaolunkuo- cold"}),"\u5ba2\u6237\u7aef\u4e0b\u8f7d"]}),Object(te.jsxs)("div",{className:"con",children:[Object(te.jsx)("img",{alt:"",src:"https://static.cnodejs.org/FtG0YVgQ6iginiLpf9W4_ShjiLfU"}),Object(te.jsx)("p",{children:"\u626b\u63cf\u4e8c\u7ef4\u7801\u4e0b\u8f7d"})]})]})},ve=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state=w.getState(),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.getData({page:1,tab:"all",limit:20,mark:!0})}},{key:"render",value:function(){var e,t=this;return Object(te.jsxs)(a.Fragment,{children:[Object(te.jsxs)("div",{className:"fl",children:[Object(te.jsxs)("div",{className:"box topTab",children:[Object(te.jsx)("ul",{children:this.props.tabList.map((function(e,n){return Object(te.jsx)("li",{className:t.props.tabIndex===n?"cur":"",onClick:function(){t.changeTabIndex(n,e)},children:e.title},n)}))}),(null===(e=this.props.userInfoData)||void 0===e?void 0:e.id)?Object(te.jsx)("span",{className:"issueTopic",children:Object(te.jsx)(u.b,{to:"/newtopic",children:"\u53d1\u5e03\u65b0\u8bdd\u9898"})}):null]}),Object(te.jsx)("div",{className:"box",children:this.props.loadingStatus?Object(te.jsx)(he,{}):Object(te.jsx)("div",{children:Object(te.jsx)(de,{dataJson:this.props.allIndexData})})})]}),Object(te.jsxs)("div",{className:"fr",children:[Object(te.jsxs)("div",{className:"box activeUser",children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("i",{className:"iconfont icon-yonghu"}),"\u6d3b\u8dc3\u7528\u6237"]}),Object(te.jsx)("div",{className:"con",children:Object(te.jsx)(pe,{dataJSon:this.props.userIndexData})})]}),Object(te.jsxs)("div",{className:"box hotTopic",children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("i",{className:"iconfont icon-huati hot"})," \u70ed\u95e8\u8bdd\u9898"]}),Object(te.jsx)("div",{className:"con",children:Object(te.jsx)(be,{dataJSon:this.props.hotIndexData})})]}),Object(te.jsxs)("div",{className:"box zeroTopic",children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("i",{className:"iconfont icon-huati cold"})," \u65e0\u4eba\u56de\u590d\u8bdd\u9898"]}),Object(te.jsx)("div",{className:"con",children:Object(te.jsx)(be,{dataJSon:this.props.coldIndexData})})]}),Object(te.jsx)(Oe,{})]})]})}},{key:"changeTabIndex",value:function(e,t){var n=this;this.props.changeTabIndexData(e),setTimeout((function(){n.props.changePageIndexData(1),n.props.changePageTabData(t.tab),n.props.getData({page:n.state.pageIndex+1,tab:t.tab,limit:20,mark:!0})}),0)}}]),n}(a.Component),xe=Object(d.b)((function(e){return{loadingStatus:e.loadingStatus,tabIndex:e.tabIndex,allIndexData:e.allIndexData,userIndexData:e.userIndexData,hotIndexData:e.hotIndexData,coldIndexData:e.coldIndexData,searchStatus:e.searchStatus,userInfoData:e.userInfoData,tabList:[{title:"\u5168\u90e8",tab:"all"},{title:"\u7cbe\u534e",tab:"good"},{title:"\u5206\u4eab",tab:"share"},{title:"\u95ee\u7b54",tab:"ask"},{title:"\u62db\u8058",tab:"job"},{title:"\u5ba2\u6237\u7aef\u6d4b\u8bd5",tab:"dev"}]}}),(function(e){return{changePageIndexData:function(t){var n=q(t);e(n)},changeTabIndexData:function(e){var t=function(e){return{type:m,index:e}}(e);w.dispatch(t)},changePageTabData:function(t){var n=function(e){return{type:f,value:e}}(t);e(n)},getData:function(t){var n=K(t);e(n)}}}))(ve),fe=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(te.jsx)("div",{children:"\u6211\u662f\u65b0\u624b\u5165\u95e8\u9875\u9762"})}}]),n}(a.Component),me=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(te.jsx)("div",{children:"\u6211\u662fapi\u9875\u9762"})}}]),n}(a.Component),ge=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(te.jsxs)("div",{className:"aboutus",children:[Object(te.jsxs)("div",{className:"box ",children:[Object(te.jsx)("h3",{children:"\u5173\u4e8e\u672c\u9879\u76ee"}),Object(te.jsx)("p",{children:"\u8be5\u9879\u76ee\u4e3a\u4effCNode\u793e\u533a\u5f00\u53d1\u7684React\u7248\uff0c\u65e8\u5728\u5b66\u4e60React\u6240\u7528\u3002"}),Object(te.jsx)("p",{children:"\u9879\u76ee\u6240\u7528\u6280\u672f: React\u3001React-Rouer\u3001Redux\u3001React-Redux\u3001Axios\u3001Redus-thunk\u3001wangeditor"}),Object(te.jsx)("p",{children:"\u611f\u8c22CNode\u63d0\u4f9b\u63a5\u53e3"})]}),Object(te.jsxs)("div",{className:"box",children:[Object(te.jsx)("h3",{children:"\u5173\u4e8eCNode"}),Object(te.jsx)("p",{children:"CNode \u793e\u533a\u4e3a\u56fd\u5185\u6700\u5927\u6700\u5177\u5f71\u54cd\u529b\u7684 Node.js \u5f00\u6e90\u6280\u672f\u793e\u533a\uff0c\u81f4\u529b\u4e8e Node.js \u7684\u6280\u672f\u7814\u7a76\u3002"}),Object(te.jsx)("p",{children:"CNode \u793e\u533a\u7531\u4e00\u6279\u70ed\u7231 Node.js \u6280\u672f\u7684\u5de5\u7a0b\u5e08\u53d1\u8d77\uff0c\u76ee\u524d\u5df2\u7ecf\u5438\u5f15\u4e86\u4e92\u8054\u7f51\u5404\u4e2a\u516c\u53f8\u7684\u4e13\u4e1a\u6280\u672f\u4eba\u5458\u52a0\u5165\uff0c\u6211\u4eec\u975e\u5e38\u6b22\u8fce\u66f4\u591a\u5bf9 Node.js \u611f\u5174\u8da3\u7684\u670b\u53cb\u3002"}),Object(te.jsx)("p",{children:"CNode \u7684 SLA \u4fdd\u8bc1\u662f\uff0c\u4e00\u4e2a9\uff0c\u5373 90.000000%\u3002"}),Object(te.jsx)("p",{children:"\u793e\u533a\u76ee\u524d\u7531 @alsotang \u5728\u7ef4\u62a4\uff0c\u6709\u95ee\u9898\u8bf7\u8054\u7cfb\uff1ahttps://github.com/alsotang"}),Object(te.jsx)("p",{children:"\u8bf7\u5173\u6ce8\u6211\u4eec\u7684\u5b98\u65b9\u5fae\u535a\uff1ahttp://weibo.com/cnodejs"})]})]})}}]),n}(a.Component),Ne=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(te.jsx)("div",{children:"\u6211\u662f\u767b\u5f55\u9875\u9762"})}}]),n}(a.Component),Ie=function(e){var t,n,a;return Object(te.jsxs)("div",{className:"aauthorCon",children:[Object(te.jsx)("div",{className:"top",children:Object(te.jsxs)(u.b,{to:"/userinfo/"+(null===(t=e.dataJson)||void 0===t?void 0:t.loginname),children:[Object(te.jsx)("span",{className:"img",children:Object(te.jsx)("img",{src:null===(n=e.dataJson)||void 0===n?void 0:n.avatar_url,alt:""})}),Object(te.jsx)("span",{className:"txt",children:null===(a=e.dataJson)||void 0===a?void 0:a.loginname})]})}),Object(te.jsxs)("p",{className:"jifen",children:["\u79ef\u5206: ",e.point]}),Object(te.jsx)("p",{className:"jianj",children:"\u201c \u8fd9\u5bb6\u4f19\u5f88\u61d2\uff0c\u4ec0\u4e48\u4e2a\u6027\u7b7e\u540d\u90fd\u6ca1\u6709\u7559\u4e0b\u3002 \u201d"})]})},ke=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={valueText:""},a}return Object(r.a)(n,[{key:"render",value:function(){var e,t,n;return Object(te.jsxs)("div",{className:"commentSubmit",children:[Object(te.jsx)(a.Fragment,{children:(null===(e=this.props.userInfoData)||void 0===e?void 0:e.id)?Object(te.jsx)(a.Fragment,{children:Object(te.jsxs)("div",{className:"hImg",children:[Object(te.jsx)("span",{className:"timg",children:Object(te.jsx)("img",{src:null===(t=this.props.userInfoData)||void 0===t?void 0:t.avatar_url,alt:""})}),Object(te.jsx)("p",{children:null===(n=this.props.userInfoData)||void 0===n?void 0:n.loginname})]})}):Object(te.jsx)("span",{className:"img",children:Object(te.jsx)("i",{className:"iconfont icon-yonghu1"})})}),Object(te.jsxs)("div",{className:"txt",children:[Object(te.jsx)("textarea",{value:this.state.valueText,onChange:this.changeValue.bind(this),placeholder:"\u8bf7\u8f93\u5165\u8bc4\u8bba...",onFocus:this.isLogin.bind(this)}),Object(te.jsx)("p",{children:Object(te.jsx)("button",{onClick:this.submitText.bind(this),children:"\u63d0\u4ea4"})})]})]})}},{key:"isLogin",value:function(){var e;(null===(e=this.props.userInfoData)||void 0===e?void 0:e.id)||this.props.changeLoginDialogStatus(!0)}},{key:"changeValue",value:function(e){this.setState({valueText:e.target.value})}},{key:"submitText",value:function(){var e,t;ee()&&this.newRepliesFunc(null===(e=this.props.userInfoData)||void 0===e?void 0:e.token,this.state.valueText,null===(t=this.props)||void 0===t?void 0:t.id)}},{key:"newRepliesFunc",value:function(){var e=Object(V.a)(J.a.mark((function e(t,n,a){var s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t,n,a);case 2:(null===(s=e.sent)||void 0===s?void 0:s.success)&&(this.props.getData(a),this.setState({valueText:""}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),n}(a.Component),De=Object(d.b)((function(e){return{userInfoData:e.userInfoData}}),(function(e){return{changeLoginDialogStatus:function(t){var n=Q(t);e(n)}}}))(ke),ye=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={zanSatus:!0},a}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.getData,s=t.dataJson;return Object(te.jsxs)("div",{className:"replyCon ",children:[Object(te.jsx)("div",{className:"box",children:Object(te.jsx)(De,{id:n,getData:a})}),Object(te.jsxs)("div",{className:"box",children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("i",{className:"iconfont icon-huifu"}),null===s||void 0===s?void 0:s.length," \u6761\u56de\u590d"]}),Object(te.jsx)("div",{className:"con",children:Object(te.jsx)("ul",{children:null===s||void 0===s?void 0:s.map((function(t,n){var a,s;return Object(te.jsxs)("li",{children:[Object(te.jsx)("span",{className:"img",children:Object(te.jsx)("img",{src:null===(a=t.author)||void 0===a?void 0:a.avatar_url,alt:""})}),Object(te.jsxs)("div",{className:"txt",children:[Object(te.jsxs)("h5",{children:[Object(te.jsxs)("span",{className:"louc",children:["#",n+1,"\u697c"]}),Object(te.jsx)("span",{className:"name",children:null===(s=t.author)||void 0===s?void 0:s.loginname}),Object(te.jsx)("span",{className:"time",children:$(t.create_at)}),Object(te.jsxs)("span",{className:"dianz",children:[t.ups.length?t.ups.map((function(n){return n===e.props.userInfoData.id?Object(te.jsx)("i",{className:"iconfont icon-dianzan1 aaaa",onClick:function(){e.upsdian(t)}},n+100):Object(te.jsx)("i",{className:"iconfont icon-dianzan bbbb",onClick:function(){e.upsdian(t)}},n+100)})):Object(te.jsx)("i",{style:{top:"-12px"},className:"iconfont\r icon-dianzan zzzz",onClick:function(){e.upsdian(t)}}),t.ups.length>0?t.ups.length:""]})]}),Object(te.jsx)("div",{className:"rc",children:Object(te.jsx)("div",{dangerouslySetInnerHTML:{__html:t.content}})})]})]},t.id)}))})})]})]})}},{key:"upsdian",value:function(e){var t;ee()&&this.replyUpsFunc(null===(t=this.props.userInfoData)||void 0===t?void 0:t.token,null===e||void 0===e?void 0:e.id)}},{key:"replyUpsFunc",value:function(){var e=Object(V.a)(J.a.mark((function e(t,n){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t,n);case 2:a=e.sent,console.log(a),(null===a||void 0===a?void 0:a.success)&&this.props.getData(this.props.id);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(a.Component),Se=Object(d.b)((function(e){return{userInfoData:e.userInfoData}}),(function(){return{}}))(ye),Ce=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e,t,n=this,s=this.props,c=s.topcsContent,i=s.getData;return Object(te.jsxs)(a.Fragment,{children:[Object(te.jsxs)("div",{className:"fl",children:[Object(te.jsx)("div",{className:"box listInfo",children:this.props.topcsContent.id!==this.props.match.params.id?Object(te.jsx)(he,{}):Object(te.jsxs)(a.Fragment,{children:[Object(te.jsx)("h3",{children:c.title}),Object(te.jsxs)("div",{className:"author",children:[Object(te.jsxs)("span",{className:"at",children:[Object(te.jsx)("i",{children:Object(te.jsx)("img",{src:null===(e=c.author)||void 0===e?void 0:e.avatar_url,alt:""})}),null===(t=c.author)||void 0===t?void 0:t.loginname]}),Object(te.jsxs)("span",{className:"review",children:[c.visit_count," \u6b21\u9605\u8bfb"]}),Object(te.jsx)("span",{className:"time",children:$(c.create_at)}),Object(te.jsx)("span",{className:"tab",children:Z("","",c.tab)})]}),Object(te.jsx)("div",{className:"listContent",children:Object(te.jsx)("div",{dangerouslySetInnerHTML:{__html:c.content}})}),Object(te.jsx)("div",{className:"shouc",children:c.is_collect?Object(te.jsxs)(a.Fragment,{children:[Object(te.jsx)("span",{onClick:function(){n.unCollectHandle(c.id)},children:Object(te.jsx)("i",{className:"iconfont icon-shoucang1"})}),Object(te.jsx)("p",{children:"\u5df2\u6536\u85cf"})]}):Object(te.jsxs)(a.Fragment,{children:[Object(te.jsx)("span",{onClick:function(){n.collectHandle(c.id)},children:Object(te.jsx)("i",{className:"iconfont icon-shoucang"})}),Object(te.jsx)("p",{children:"\u6536\u85cf\u4e3b\u9898"})]})})]})}),Object(te.jsx)(Se,{dataJson:c.replies,id:c.id,getData:i})]}),Object(te.jsxs)("div",{className:"fr",children:[Object(te.jsxs)("div",{className:"box",children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("i",{className:"iconfont icon-yonghu"}),"\u5173\u4e8e\u4f5c\u8005"]}),Object(te.jsx)(Ie,{dataJson:c.author,point:c.visit_count})]}),Object(te.jsx)(Oe,{})]})]})}},{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.setState({id:e}),this.props.getData(e)}},{key:"collectHandle",value:function(e){var t;ee()&&this.collectData(null===(t=this.props.userInfoData)||void 0===t?void 0:t.token,e)}},{key:"unCollectHandle",value:function(e){var t;ee()&&this.collectData(null===(t=this.props.userInfoData)||void 0===t?void 0:t.token,e)}},{key:"collectData",value:function(){var e=Object(V.a)(J.a.mark((function e(t,n){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R({url:"/topic_collect/collect",method:"POST",data:{accesstoken:t,topic_id:n}});case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unCollectData",value:function(){var e=Object(V.a)(J.a.mark((function e(t,n){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R({url:"/topic_collect/de_collect",method:"POST",data:{accesstoken:t,topic_id:n}});case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(a.Component),Te=Object(d.b)((function(e){return{topcsContent:e.topcsContent,userInfoData:e.userInfoData}}),(function(e){return{getData:function(t){var n=function(e){return function(){var t=Object(V.a)(J.a.mark((function t(n){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:a=t.sent.data,n({type:g,value:a});case 5:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()}(t);e(n)}}}))(Ce),we=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e;return Object(te.jsx)("div",{className:"myList",children:Object(te.jsx)("ul",{children:null===(e=this.props.dataJson)||void 0===e?void 0:e.map((function(e){var t;return Object(te.jsxs)("li",{children:[Object(te.jsx)("span",{className:"img",children:Object(te.jsx)("img",{src:null===(t=e.author)||void 0===t?void 0:t.avatar_url,alt:""})}),Object(te.jsx)(u.b,{to:"/listinfo/"+e.id,children:e.title}),Object(te.jsx)("span",{className:"time",children:$(e.last_reply_at)})]},e.id)}))})})}}]),n}(a.Component),_e=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={userInfo:{},userCollect:[]},a}return Object(r.a)(n,[{key:"render",value:function(){return Object(te.jsxs)("div",{className:"userInfo",children:[Object(te.jsxs)("div",{className:"fl",children:[Object(te.jsxs)("div",{className:"box",children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("i",{className:"iconfont icon-yonghu"}),"\u6536\u85cf\u8bdd\u9898"]}),Object(te.jsx)(we,{dataJson:this.state.userCollect})]}),Object(te.jsxs)("div",{className:"box",children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("i",{className:"iconfont icon-yonghu hot"}),"\u6700\u8fd1\u53c2\u4e0e\u7684\u8bdd\u9898"]}),Object(te.jsx)(we,{dataJson:this.state.userInfo&&this.state.userInfo.recent_replies})]}),Object(te.jsxs)("div",{className:"box",children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("i",{className:"iconfont icon-yonghu cold"}),"\u6700\u8fd1\u521b\u5efa\u8bdd\u9898"]}),Object(te.jsx)(we,{dataJson:this.state.userInfo&&this.state.userInfo.recent_topics})]})]}),Object(te.jsxs)("div",{className:"fr",children:[Object(te.jsxs)("div",{className:"box",children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("i",{className:"iconfont icon-yonghu"}),"\u5173\u4e8e\u4f5c\u8005"]}),Object(te.jsx)(Ie,{dataJson:{loginname:this.state.userInfo.loginname,avatar_url:this.state.userInfo.avatar_url},point:this.state.userInfo.score})]}),Object(te.jsx)(Oe,{})]})]})}},{key:"componentDidMount",value:function(){this.getUserInfoData(this.props.match.params.id),this.getUserCollectData(this.props.match.params.id)}},{key:"getUserInfoData",value:function(){var e=Object(V.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R({url:"/user/".concat(t),method:"GET"});case 2:(n=e.sent)&&n.success&&this.setState({userInfo:n.data});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserCollectData",value:function(){var e=Object(V.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R({url:"/topic_collect/".concat(t),method:"GET"});case 2:(n=e.sent)&&n.success&&this.setState({userCollect:n.data});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(a.Component),Le=n(40),Je=n.n(Le),Ve=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={titleValue:"",editorValue:""},a}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(te.jsxs)("div",{className:"newTopic",children:[Object(te.jsxs)("div",{className:"box title",children:[Object(te.jsxs)("div",{className:"fr",children:[Object(te.jsx)("span",{children:"\u6240\u5c5e\u5206\u7c7b:"}),Object(te.jsx)("select",{disabled:!0,children:Object(te.jsx)("option",{children:"\u5ba2\u6237\u7aef\u6d4b\u8bd5"})})]}),Object(te.jsx)("div",{className:"fl",children:Object(te.jsx)("input",{value:this.state.titleValue,onChange:function(t){return e.changeValue(t)},placeholder:"\u8bf7\u8f93\u5165\u6807\u9898,10\u4e2a\u5b57\u4ee5\u4e0a"})})]}),Object(te.jsxs)("div",{className:"box newTContent",children:[Object(te.jsx)(Je.a,{editorValue:this.state.editorValue,placeholder:"\u8bf7\u8f93\u5165\u8bdd\u9898\u5185\u5bb9",onChange:function(t){e.setState({editorValue:t})}}),Object(te.jsxs)("p",{className:"botBtn",children:[Object(te.jsx)("button",{className:"submit",onClick:this.submitTopic.bind(this),children:"\u63d0\u4ea4"}),Object(te.jsx)("button",{children:"\u6e05\u7a7a"})]})]})]})}},{key:"submitTopic",value:function(){var e;ee()&&this.issueTopicsFunc(null===(e=this.props.userInfoData)||void 0===e?void 0:e.token,this.state.titleValue,"dev",this.state.editorValue)}},{key:"changeValue",value:function(e){this.setState({titleValue:e.target.value})}},{key:"componentWillUnmount",value:function(){}},{key:"issueTopicsFunc",value:function(){var e=Object(V.a)(J.a.mark((function e(t,n,a,s){var c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,n,a,s);case 2:(null===(c=e.sent)||void 0===c?void 0:c.success)&&(this.setState({titleValue:"",editorValue:""}),console.log("\u8df3\u8f6c"),this.props.history.push("/listinfo/".concat(c.topic_id)));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,a,s){return e.apply(this,arguments)}}()}]),n}(a.Component),Pe=Object(d.b)((function(e){return{userInfoData:e.userInfoData}}),(function(){return{}}))(Ve),Fe=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state=w.getState(),a}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isLoginDialog,n=e.tipsStatus;return Object(te.jsxs)("div",{className:"main",children:[Object(te.jsxs)(u.a,{children:[Object(te.jsx)(ae,{topSearchStatus:this.props.searchStatus,setTopSearch:this.props.setTopSearch(!this.props.searchStatus)}),Object(te.jsx)("div",{className:"content",children:Object(te.jsxs)("div",{className:"w1440 flex",children:[Object(te.jsx)(j.a,{path:"/",exact:!0,component:xe}),Object(te.jsx)(j.a,{path:"/getstart",component:fe}),Object(te.jsx)(j.a,{path:"/apipage",component:me}),Object(te.jsx)(j.a,{path:"/about",component:ge}),Object(te.jsx)(j.a,{path:"/login",component:Ne}),Object(te.jsx)(j.a,{path:"/listinfo/:id",component:Te}),Object(te.jsx)(j.a,{path:"/userinfo/:id",component:_e}),Object(te.jsx)(j.a,{path:"/newtopic",component:Pe})]})})]}),Object(te.jsx)(se,{}),t?Object(te.jsx)(ie,{}):null,n?Object(te.jsx)(oe,{}):null]})}},{key:"componentDidMount",value:function(){h.getSession("userInfo")&&h.getSession("userInfo").id&&this.props.changeUserInfo(h.getSession("userInfo"))}}]),n}(a.Component),Ee=Object(d.b)((function(e){return{isLoginDialog:e.isLoginDialog,tipsStatus:e.tipsStatus,userInfoData:e.userInfoData}}),(function(e){return{setTopSearch:function(t){var n={type:p,value:t};e(n)},changeUserInfo:function(t){var n=B(t);e(n)}}}))(Fe),Re=Object(te.jsx)(d.a,{store:w,children:Object(te.jsx)(Ee,{})});c.a.render(Re,document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.709a79fa.chunk.js.map